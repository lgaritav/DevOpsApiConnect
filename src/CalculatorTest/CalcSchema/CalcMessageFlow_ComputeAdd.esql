BROKER SCHEMA CalcSchema
DECLARE ns NAMESPACE 'http://www.example.org/calculator/';

CREATE COMPUTE MODULE CalcMessageFlow_ComputeAdd
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		
		DECLARE REFIN  REFERENCE TO InputRoot.XMLNSC;
		
		CREATE FIELD OutputRoot.XMLNSC.ns:AddResponse;
		DECLARE REFOUT REFERENCE TO OutputRoot.XMLNSC.ns:AddResponse;
		
		SET REFOUT.AddResult = (CAST(REFIN.ns:Add.intA AS INTEGER) + CAST(REFIN.ns:Add.intB AS INTEGER));
	RETURN TRUE;
	END;
END MODULE;
